#:kivy 2.1.0

<HighScoreDetailsScreen>:
    rankHistoryRv: rankHistoryRv
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            canvas:
                Color:
                    rgba: 0, 0, 0, 0
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint_y: None
            height: dp(30)
            Label:
                id: genreName
                font_size: 18
                size_hint_x: 0.2
            Label:
                text_size: self.size
                halign: 'center'
                valign: 'middle'
                size_hint_x: 0.5
                id: musicName
            Label:
                size_hint_x: 0.3
                id: levelName
        BoxLayout:
            BoxLayout:
                orientation: "vertical"
                canvas.before:
                    Color:
                        rgba: 0.85, 0.85, 0.85, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                BoxLayout:
                    size_hint_y: 0.2
                    CharBlackLabel:
                        text: 'ハイスコア'
                    CharBlackLabel:
                        id: highScore
                    CharBlackLabel:
                        text: '最大コンボ数'
                    CharBlackLabel:
                        id: maxCombo
                BoxLayout:
                    size_hint_y: 0.2
                    CharBlackLabel:
                        text: 'プレイ回数'
                    CharBlackLabel:
                        id: playCount
                    CharBlackLabel:
                        text: 'クリア回数'
                    CharBlackLabel:
                        id: clearedCount
                BoxLayout:
                    size_hint_y: 0.2
                    CharBlackLabel:
                        text: 'フルコンボ回数'
                    CharBlackLabel:
                        id: fullComboCount
                    CharBlackLabel:
                        text: 'パーフェクト回数'
                    CharBlackLabel:
                        id: perfectCount
                BoxLayout:
                    size_hint_y: 0.2
                    CharBlackLabel:
                        size_hint_x: 0.4
                        text: '最終プレイ日時'
                    CharBlackLabel:
                        size_hint_x: 0.6
                        id: lastPlayDate
                BoxLayout:
                    size_hint_y: 0.2
                    CharBlackLabel:
                        id: rankingLabel
                        size_hint_x: 0.2
                    CharBlackLabel:
                        size_hint_x: 0.2
                        id: rankingData
                    CharBlackLabel:
                        size_hint_x: 0.4
                        id: rankingGetDate
                        font_size: 12
                    BoxLayout:
                        size_hint_x: 0.2
            BoxLayout:
                orientation:'vertical'
                size_hint_x: 0.3
                canvas:
                    Color:
                        rgba: 0.5, 0.5, 0.5, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                BoxLayout:
                    height: dp(30)
                    size_hint_y: None
                    Label:
                        text: 'ランク'
                    Label:
                        text: '達成回数'
                BoxLayout:
                    canvas:
                        Color:
                            rgba: 0, 0, 0, 1
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    orientation: 'vertical'
                    RecycleView:
                        id: rankHistoryRv
                        size_hint_y: 0.9
                        viewclass: 'rankHistory'
                        RecycleBoxLayout:
                            default_size: None, dp(30)
                            default_size_hint: 1, None
                            size_hint_y: None
                            height: self.minimum_height
                            orientation: 'vertical'
                            spacing: dp(2)
        BoxLayout:
            size_hint_y: None
            height: dp(80)
            orientation: "vertical"
            canvas:
                Color:
                    rgba: 0, 0, 0, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
            BoxLayout:
                Label:
                    text: 'モード'
                    font_size: 18
                    size_hint_x: 0.25
                Spinner:
                    id: modeSpinnerId
                    font_size: 18
                    size_hint_x: 0.25
                    on_text: root.setHighScoreData(self.text)
            BoxLayout:
                Button:
                    id: historyButton
                    text: 'ハイスコア履歴'
                    font_size: 18
                    on_release: 
                        root.manager.current = 'history'
                Button:
                    id: rankingGetButton
                    text: 'ランキングデータ取得'
                    font_size: 18
                    on_release: 
                        root.manager.current = 'rankingGet'
                Button:
                    text: '戻る'
                    font_size: 18
                    on_release: 
                        root.resetScreen()
                        root.manager.current = root.sourceWidget

<CharBlackLabel@Label>:
    color: [0, 0, 0, 1]
    font_size: 16

<rankHistory>:
    canvas.before:
        Color:
            rgba: 0.75, 0, 0.75, 1
        Rectangle:
            size: self.size
            pos: self.pos
    BoxLayout:
        Label:
            text: root.rank
        Label:
            text: root.count
